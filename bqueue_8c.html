<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>bqueue: src/bqueue.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">bqueue
   &#160;<span id="projectnumber">1.0</span>
   </div>
   <div id="projectbrief">Circular buffer for binary strings</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">bqueue.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Binary queue type declaration.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="bqueue_8h_source.html">bqueue.h</a>&quot;</code><br />
<code>#include &lt;string.h&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for bqueue.c:</div>
<div class="dyncontent">
<div class="center"><img src="bqueue_8c__incl.png" border="0" usemap="#src_2bqueue_8c" alt=""/></div>
<map name="src_2bqueue_8c" id="src_2bqueue_8c">
<area shape="rect" title="Binary queue type declaration." alt="" coords="141,5,245,32"/>
<area shape="rect" href="bqueue_8h.html" title="Binary queue type declaration." alt="" coords="101,80,183,107"/>
<area shape="rect" title=" " alt="" coords="208,80,279,107"/>
<area shape="rect" title=" " alt="" coords="5,155,76,181"/>
<area shape="rect" title=" " alt="" coords="101,155,183,181"/>
<area shape="rect" title=" " alt="" coords="208,155,292,181"/>
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a93980ca6087910205591a355ae40a3fb"><td class="memItemLeft" align="right" valign="top">static size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bqueue_8c.html#a93980ca6087910205591a355ae40a3fb">_bqueue_used</a> (<a class="el" href="structbqueue__t.html">bqueue_t</a> *queue)</td></tr>
<tr class="memdesc:a93980ca6087910205591a355ae40a3fb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the current queue size.  <a href="bqueue_8c.html#a93980ca6087910205591a355ae40a3fb">More...</a><br /></td></tr>
<tr class="separator:a93980ca6087910205591a355ae40a3fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaeca111fbc0ebd75f142510d7b567b8a"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bqueue_8c.html#aaeca111fbc0ebd75f142510d7b567b8a">_bqueue_empty</a> (<a class="el" href="structbqueue__t.html">bqueue_t</a> *queue)</td></tr>
<tr class="memdesc:aaeca111fbc0ebd75f142510d7b567b8a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Test whether the queue is empty.  <a href="bqueue_8c.html#aaeca111fbc0ebd75f142510d7b567b8a">More...</a><br /></td></tr>
<tr class="separator:aaeca111fbc0ebd75f142510d7b567b8a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b358d29bda677305547d9c94de73b08"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bqueue_8c.html#a8b358d29bda677305547d9c94de73b08">_bqueue_expand</a> (<a class="el" href="structbqueue__t.html">bqueue_t</a> *queue, size_t new_length)</td></tr>
<tr class="memdesc:a8b358d29bda677305547d9c94de73b08"><td class="mdescLeft">&#160;</td><td class="mdescRight">Extend the current queue capacity.  <a href="bqueue_8c.html#a8b358d29bda677305547d9c94de73b08">More...</a><br /></td></tr>
<tr class="separator:a8b358d29bda677305547d9c94de73b08"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab49d41097131632845e79ef59c749ae1"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bqueue_8c.html#ab49d41097131632845e79ef59c749ae1">_bqueue_shrink</a> (<a class="el" href="structbqueue__t.html">bqueue_t</a> *queue, size_t new_length)</td></tr>
<tr class="memdesc:ab49d41097131632845e79ef59c749ae1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reduce the queue capacity.  <a href="bqueue_8c.html#ab49d41097131632845e79ef59c749ae1">More...</a><br /></td></tr>
<tr class="separator:ab49d41097131632845e79ef59c749ae1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b624a2e070733a536aadcca3b0a5c1b"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bqueue_8c.html#a9b624a2e070733a536aadcca3b0a5c1b">_bqueue_insert</a> (<a class="el" href="structbqueue__t.html">bqueue_t</a> *queue, const void *data, size_t data_len)</td></tr>
<tr class="memdesc:a9b624a2e070733a536aadcca3b0a5c1b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Insert data into the queue.  <a href="bqueue_8c.html#a9b624a2e070733a536aadcca3b0a5c1b">More...</a><br /></td></tr>
<tr class="separator:a9b624a2e070733a536aadcca3b0a5c1b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ba4c84c3719469dc676e42551438ddb"><td class="memItemLeft" align="right" valign="top">static size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bqueue_8c.html#a6ba4c84c3719469dc676e42551438ddb">_bqueue_extract</a> (<a class="el" href="structbqueue__t.html">bqueue_t</a> *queue, void *buffer, size_t buffer_len)</td></tr>
<tr class="memdesc:a6ba4c84c3719469dc676e42551438ddb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read data from the queue.  <a href="bqueue_8c.html#a6ba4c84c3719469dc676e42551438ddb">More...</a><br /></td></tr>
<tr class="separator:a6ba4c84c3719469dc676e42551438ddb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf81783faa18e85f3a4f0465faa0c8cd"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bqueue_8c.html#abf81783faa18e85f3a4f0465faa0c8cd">_bqueue_trim</a> (<a class="el" href="structbqueue__t.html">bqueue_t</a> *queue)</td></tr>
<tr class="memdesc:abf81783faa18e85f3a4f0465faa0c8cd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Trim the queue memory and reset its state.  <a href="bqueue_8c.html#abf81783faa18e85f3a4f0465faa0c8cd">More...</a><br /></td></tr>
<tr class="separator:abf81783faa18e85f3a4f0465faa0c8cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a883bd03300d3ac2b9030ca64872a5e10"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structbqueue__t.html">bqueue_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bqueue_8c.html#a883bd03300d3ac2b9030ca64872a5e10">bqueue_init</a> (size_t max_length, unsigned flags)</td></tr>
<tr class="memdesc:a883bd03300d3ac2b9030ca64872a5e10"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocate and inititialize a new queue.  <a href="bqueue_8c.html#a883bd03300d3ac2b9030ca64872a5e10">More...</a><br /></td></tr>
<tr class="separator:a883bd03300d3ac2b9030ca64872a5e10"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a88c148ce79fd82160419daadad796341"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bqueue_8c.html#a88c148ce79fd82160419daadad796341">bqueue_destroy</a> (<a class="el" href="structbqueue__t.html">bqueue_t</a> *queue)</td></tr>
<tr class="memdesc:a88c148ce79fd82160419daadad796341"><td class="mdescLeft">&#160;</td><td class="mdescRight">Free a queue.  <a href="bqueue_8c.html#a88c148ce79fd82160419daadad796341">More...</a><br /></td></tr>
<tr class="separator:a88c148ce79fd82160419daadad796341"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa5869f78efef0b2148196a205a1d1bef"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bqueue_8c.html#aa5869f78efef0b2148196a205a1d1bef">bqueue_push</a> (<a class="el" href="structbqueue__t.html">bqueue_t</a> *queue, const void *data, size_t length, unsigned flags)</td></tr>
<tr class="memdesc:aa5869f78efef0b2148196a205a1d1bef"><td class="mdescLeft">&#160;</td><td class="mdescRight">Push data into the queue.  <a href="bqueue_8c.html#aa5869f78efef0b2148196a205a1d1bef">More...</a><br /></td></tr>
<tr class="separator:aa5869f78efef0b2148196a205a1d1bef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:affdbd94cee5efd31cdd18e50acc486d9"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bqueue_8c.html#affdbd94cee5efd31cdd18e50acc486d9">bqueue_pop</a> (<a class="el" href="structbqueue__t.html">bqueue_t</a> *queue, void *buffer, size_t length, unsigned flags)</td></tr>
<tr class="memdesc:affdbd94cee5efd31cdd18e50acc486d9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get and remove data from the queue.  <a href="bqueue_8c.html#affdbd94cee5efd31cdd18e50acc486d9">More...</a><br /></td></tr>
<tr class="separator:affdbd94cee5efd31cdd18e50acc486d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c0af4ca3b5b6794c10a37f1e1a402bb"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bqueue_8c.html#a0c0af4ca3b5b6794c10a37f1e1a402bb">bqueue_peek</a> (<a class="el" href="structbqueue__t.html">bqueue_t</a> *queue, char *buffer, size_t length, unsigned flags)</td></tr>
<tr class="memdesc:a0c0af4ca3b5b6794c10a37f1e1a402bb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get data from the queue.  <a href="bqueue_8c.html#a0c0af4ca3b5b6794c10a37f1e1a402bb">More...</a><br /></td></tr>
<tr class="separator:a0c0af4ca3b5b6794c10a37f1e1a402bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af9d90efa15ae124ca9bbe1300352c77f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bqueue_8c.html#af9d90efa15ae124ca9bbe1300352c77f">bqueue_drop</a> (<a class="el" href="structbqueue__t.html">bqueue_t</a> *queue, size_t length)</td></tr>
<tr class="memdesc:af9d90efa15ae124ca9bbe1300352c77f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Drop data from the queue.  <a href="bqueue_8c.html#af9d90efa15ae124ca9bbe1300352c77f">More...</a><br /></td></tr>
<tr class="separator:af9d90efa15ae124ca9bbe1300352c77f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Binary queue type declaration. </p>
<dl class="section author"><dt>Author</dt><dd>Vikman Fernandez-Castro </dd></dl>
<dl class="section date"><dt>Date</dt><dd>September 21, 2021 </dd></dl>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="aaeca111fbc0ebd75f142510d7b567b8a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaeca111fbc0ebd75f142510d7b567b8a">&#9670;&nbsp;</a></span>_bqueue_empty()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool _bqueue_empty </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structbqueue__t.html">bqueue_t</a> *&#160;</td>
          <td class="paramname"><em>queue</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Test whether the queue is empty. </p>
<p>This is a private function.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">queue</td><td>Pointer to a queue. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section pre"><dt>Precondition</dt><dd>The lock must be acquired before calling this function. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">true</td><td>The queue is empty. </td></tr>
    <tr><td class="paramname">false</td><td>The queue contains any data. </td></tr>
  </table>
  </dd>
</dl>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="bqueue_8c_aaeca111fbc0ebd75f142510d7b567b8a_icgraph.png" border="0" usemap="#bqueue_8c_aaeca111fbc0ebd75f142510d7b567b8a_icgraph" alt=""/></div>
<map name="bqueue_8c_aaeca111fbc0ebd75f142510d7b567b8a_icgraph" id="bqueue_8c_aaeca111fbc0ebd75f142510d7b567b8a_icgraph">
<area shape="rect" title="Test whether the queue is empty." alt="" coords="332,56,459,83"/>
<area shape="rect" href="bqueue_8c.html#ab49d41097131632845e79ef59c749ae1" title="Reduce the queue capacity." alt="" coords="160,31,284,57"/>
<area shape="rect" href="bqueue_8c.html#af9d90efa15ae124ca9bbe1300352c77f" title="Drop data from the queue." alt="" coords="5,5,112,32"/>
<area shape="rect" href="bqueue_8c.html#affdbd94cee5efd31cdd18e50acc486d9" title="Get and remove data from the queue." alt="" coords="8,56,109,83"/>
<area shape="rect" href="bqueue_8c.html#a0c0af4ca3b5b6794c10a37f1e1a402bb" title="Get data from the queue." alt="" coords="167,132,277,159"/>
</map>
</div>

</div>
</div>
<a id="a8b358d29bda677305547d9c94de73b08"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8b358d29bda677305547d9c94de73b08">&#9670;&nbsp;</a></span>_bqueue_expand()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void _bqueue_expand </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structbqueue__t.html">bqueue_t</a> *&#160;</td>
          <td class="paramname"><em>queue</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>new_length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Extend the current queue capacity. </p>
<p>This is a private function.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">queue</td><td>Pointer to a queue. </td></tr>
    <tr><td class="paramname">new_length</td><td>New internal buffer length. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section pre"><dt>Precondition</dt><dd>The lock must be acquired before calling this function. </dd>
<dd>
<code>new_length</code> is assumed to be lower or equal to <code>max_length</code>. </dd>
<dd>
<code>new_length</code> is asummed to be greater or equal to the current <code>length</code>. </dd></dl>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="bqueue_8c_a8b358d29bda677305547d9c94de73b08_icgraph.png" border="0" usemap="#bqueue_8c_a8b358d29bda677305547d9c94de73b08_icgraph" alt=""/></div>
<map name="bqueue_8c_a8b358d29bda677305547d9c94de73b08_icgraph" id="bqueue_8c_a8b358d29bda677305547d9c94de73b08_icgraph">
<area shape="rect" title="Extend the current queue capacity." alt="" coords="161,5,293,32"/>
<area shape="rect" href="bqueue_8c.html#aa5869f78efef0b2148196a205a1d1bef" title="Push data into the queue." alt="" coords="5,5,113,32"/>
</map>
</div>

</div>
</div>
<a id="a6ba4c84c3719469dc676e42551438ddb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6ba4c84c3719469dc676e42551438ddb">&#9670;&nbsp;</a></span>_bqueue_extract()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t _bqueue_extract </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structbqueue__t.html">bqueue_t</a> *&#160;</td>
          <td class="paramname"><em>queue</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>buffer_len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Read data from the queue. </p>
<p>This is a private function.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">queue</td><td>Pointer to a queue. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">buffer</td><td>Pointer to the destination buffer. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">buffer_len</td><td>Maximum number of bytes that should be read. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section pre"><dt>Precondition</dt><dd>The lock must be acquired before calling this function. </dd></dl>
<dl class="section return"><dt>Returns</dt><dd>Number of bytes read from the queue </dd></dl>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="bqueue_8c_a6ba4c84c3719469dc676e42551438ddb_icgraph.png" border="0" usemap="#bqueue_8c_a6ba4c84c3719469dc676e42551438ddb_icgraph" alt=""/></div>
<map name="bqueue_8c_a6ba4c84c3719469dc676e42551438ddb_icgraph" id="bqueue_8c_a6ba4c84c3719469dc676e42551438ddb_icgraph">
<area shape="rect" title="Read data from the queue." alt="" coords="163,31,293,57"/>
<area shape="rect" href="bqueue_8c.html#a0c0af4ca3b5b6794c10a37f1e1a402bb" title="Get data from the queue." alt="" coords="5,5,115,32"/>
<area shape="rect" href="bqueue_8c.html#affdbd94cee5efd31cdd18e50acc486d9" title="Get and remove data from the queue." alt="" coords="9,56,111,83"/>
</map>
</div>

</div>
</div>
<a id="a9b624a2e070733a536aadcca3b0a5c1b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9b624a2e070733a536aadcca3b0a5c1b">&#9670;&nbsp;</a></span>_bqueue_insert()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void _bqueue_insert </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structbqueue__t.html">bqueue_t</a> *&#160;</td>
          <td class="paramname"><em>queue</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>data_len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Insert data into the queue. </p>
<p>This is a private function.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">queue</td><td>Pointer to a queue. </td></tr>
    <tr><td class="paramname">data</td><td>Pointer to the source data. </td></tr>
    <tr><td class="paramname">data_len</td><td>Number of bytes to insert. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section pre"><dt>Precondition</dt><dd>The lock must be acquired before calling this function. </dd>
<dd>
<code>data_len</code> is assumed to be lower than the current <code>length</code>. </dd></dl>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="bqueue_8c_a9b624a2e070733a536aadcca3b0a5c1b_icgraph.png" border="0" usemap="#bqueue_8c_a9b624a2e070733a536aadcca3b0a5c1b_icgraph" alt=""/></div>
<map name="bqueue_8c_a9b624a2e070733a536aadcca3b0a5c1b_icgraph" id="bqueue_8c_a9b624a2e070733a536aadcca3b0a5c1b_icgraph">
<area shape="rect" title="Insert data into the queue." alt="" coords="161,5,283,32"/>
<area shape="rect" href="bqueue_8c.html#aa5869f78efef0b2148196a205a1d1bef" title="Push data into the queue." alt="" coords="5,5,113,32"/>
</map>
</div>

</div>
</div>
<a id="ab49d41097131632845e79ef59c749ae1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab49d41097131632845e79ef59c749ae1">&#9670;&nbsp;</a></span>_bqueue_shrink()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void _bqueue_shrink </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structbqueue__t.html">bqueue_t</a> *&#160;</td>
          <td class="paramname"><em>queue</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>new_length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reduce the queue capacity. </p>
<p>This is a private function.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">queue</td><td>Pointer to a queue. </td></tr>
    <tr><td class="paramname">new_length</td><td>New internal buffer length. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section pre"><dt>Precondition</dt><dd>The lock must be acquired before calling this function. </dd>
<dd>
<code>new_length</code> is assumed to be lower or equal to <code>max_length</code>. </dd>
<dd>
<code>new_length</code> is asummed to be lower or equal to the current <code>length</code>. </dd>
<dd>
<code>new_length</code> is asummed to be greater than the number of bytes used. </dd></dl>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="bqueue_8c_ab49d41097131632845e79ef59c749ae1_icgraph.png" border="0" usemap="#bqueue_8c_ab49d41097131632845e79ef59c749ae1_icgraph" alt=""/></div>
<map name="bqueue_8c_ab49d41097131632845e79ef59c749ae1_icgraph" id="bqueue_8c_ab49d41097131632845e79ef59c749ae1_icgraph">
<area shape="rect" title="Reduce the queue capacity." alt="" coords="160,31,284,57"/>
<area shape="rect" href="bqueue_8c.html#af9d90efa15ae124ca9bbe1300352c77f" title="Drop data from the queue." alt="" coords="5,5,112,32"/>
<area shape="rect" href="bqueue_8c.html#affdbd94cee5efd31cdd18e50acc486d9" title="Get and remove data from the queue." alt="" coords="8,56,109,83"/>
</map>
</div>

</div>
</div>
<a id="abf81783faa18e85f3a4f0465faa0c8cd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abf81783faa18e85f3a4f0465faa0c8cd">&#9670;&nbsp;</a></span>_bqueue_trim()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void _bqueue_trim </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structbqueue__t.html">bqueue_t</a> *&#160;</td>
          <td class="paramname"><em>queue</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Trim the queue memory and reset its state. </p>
<p>This is a private function.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">queue</td><td>Pointer to a queue. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section pre"><dt>Precondition</dt><dd>The lock must be acquired before calling this function. </dd></dl>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="bqueue_8c_abf81783faa18e85f3a4f0465faa0c8cd_icgraph.png" border="0" usemap="#bqueue_8c_abf81783faa18e85f3a4f0465faa0c8cd_icgraph" alt=""/></div>
<map name="bqueue_8c_abf81783faa18e85f3a4f0465faa0c8cd_icgraph" id="bqueue_8c_abf81783faa18e85f3a4f0465faa0c8cd_icgraph">
<area shape="rect" title="Trim the queue memory and reset its state." alt="" coords="160,31,271,57"/>
<area shape="rect" href="bqueue_8c.html#af9d90efa15ae124ca9bbe1300352c77f" title="Drop data from the queue." alt="" coords="5,5,112,32"/>
<area shape="rect" href="bqueue_8c.html#affdbd94cee5efd31cdd18e50acc486d9" title="Get and remove data from the queue." alt="" coords="8,56,109,83"/>
</map>
</div>

</div>
</div>
<a id="a93980ca6087910205591a355ae40a3fb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a93980ca6087910205591a355ae40a3fb">&#9670;&nbsp;</a></span>_bqueue_used()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t _bqueue_used </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structbqueue__t.html">bqueue_t</a> *&#160;</td>
          <td class="paramname"><em>queue</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the current queue size. </p>
<p>This is a private function.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">queue</td><td>Pointer to a queue. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section pre"><dt>Precondition</dt><dd>The lock must be acquired before calling this function. </dd></dl>
<dl class="section return"><dt>Returns</dt><dd>Number of bytes stored in the queue. </dd></dl>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="bqueue_8c_a93980ca6087910205591a355ae40a3fb_icgraph.png" border="0" usemap="#bqueue_8c_a93980ca6087910205591a355ae40a3fb_icgraph" alt=""/></div>
<map name="bqueue_8c_a93980ca6087910205591a355ae40a3fb_icgraph" id="bqueue_8c_a93980ca6087910205591a355ae40a3fb_icgraph">
<area shape="rect" title="Get the current queue size." alt="" coords="161,56,276,83"/>
<area shape="rect" href="bqueue_8c.html#af9d90efa15ae124ca9bbe1300352c77f" title="Drop data from the queue." alt="" coords="6,5,113,32"/>
<area shape="rect" href="bqueue_8c.html#affdbd94cee5efd31cdd18e50acc486d9" title="Get and remove data from the queue." alt="" coords="9,56,110,83"/>
<area shape="rect" href="bqueue_8c.html#aa5869f78efef0b2148196a205a1d1bef" title="Push data into the queue." alt="" coords="5,107,113,133"/>
</map>
</div>

</div>
</div>
<a id="a88c148ce79fd82160419daadad796341"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a88c148ce79fd82160419daadad796341">&#9670;&nbsp;</a></span>bqueue_destroy()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void bqueue_destroy </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structbqueue__t.html">bqueue_t</a> *&#160;</td>
          <td class="paramname"><em>queue</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Free a queue. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">queue</td><td>Pointer to a queue, <code>NULL</code> is allowed. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="af9d90efa15ae124ca9bbe1300352c77f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af9d90efa15ae124ca9bbe1300352c77f">&#9670;&nbsp;</a></span>bqueue_drop()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int bqueue_drop </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structbqueue__t.html">bqueue_t</a> *&#160;</td>
          <td class="paramname"><em>queue</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Drop data from the queue. </p>
<p>Remove length bytes from the queue. That requires that the queue contains at less length bytes.</p>
<p>If <code>BQUEUE_SHRINK</code> was defined on initialization, the queue will be resized down when the used space is less than half of the current capacity. In any case, the internal buffer will be deallocated if the queue gets empty.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">queue</td><td>Pointer to a queue. </td></tr>
    <tr><td class="paramname">length</td><td>Number of bytes that shall be removed. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>On success. </td></tr>
    <tr><td class="paramname">-1</td><td>length is greater than the currently used space. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a883bd03300d3ac2b9030ca64872a5e10"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a883bd03300d3ac2b9030ca64872a5e10">&#9670;&nbsp;</a></span>bqueue_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structbqueue__t.html">bqueue_t</a>* bqueue_init </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>max_length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Allocate and inititialize a new queue. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">max_length</td><td>Maximum allowed length of the queue. </td></tr>
    <tr><td class="paramname">flags</td><td>Queue options: <code>0</code> or <code>BQUEUE_SHRINK</code>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Pointer to a newly allocated queue. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">NULL</td><td>No queue allocated, parameter value error. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a0c0af4ca3b5b6794c10a37f1e1a402bb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0c0af4ca3b5b6794c10a37f1e1a402bb">&#9670;&nbsp;</a></span>bqueue_peek()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t bqueue_peek </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structbqueue__t.html">bqueue_t</a> *&#160;</td>
          <td class="paramname"><em>queue</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get data from the queue. </p>
<p>Read at most length bytes from the queue but do not remove them. If <code>BQUEUE_WAIT</code> defined, this operation shall block until at less one byte is readable.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">queue</td><td>Pointer to a queue. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">buffer</td><td>Pointer to the destination buffer. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">length</td><td>Maximum number of bytes that should be peeked. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">flags</td><td>Operation options: <code>0</code> or <code>BQUEUE_WAIT</code>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Number of bytes read from the queue. </dd></dl>

</div>
</div>
<a id="affdbd94cee5efd31cdd18e50acc486d9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#affdbd94cee5efd31cdd18e50acc486d9">&#9670;&nbsp;</a></span>bqueue_pop()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t bqueue_pop </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structbqueue__t.html">bqueue_t</a> *&#160;</td>
          <td class="paramname"><em>queue</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get and remove data from the queue. </p>
<p>Read at most length bytes from the queue and make their space available for upcoming insertions. If <code>BQUEUE_WAIT</code> defined, this operation shall block until at less one byte is readable.</p>
<p>If <code>BQUEUE_SHRINK</code> was defined on initialization, the queue will be resized down when the used space is less than half of the current capacity. In any case, the internal buffer will be deallocated if the queue gets empty.</p>
<p>This operation is equivalent to call <a class="el" href="bqueue_8h.html#a0c0af4ca3b5b6794c10a37f1e1a402bb" title="Get data from the queue.">bqueue_peek()</a> + <a class="el" href="bqueue_8h.html#af9d90efa15ae124ca9bbe1300352c77f" title="Drop data from the queue.">bqueue_drop()</a> atomically.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">queue</td><td>Pointer to a queue. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">buffer</td><td>Pointer to the destination buffer. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">length</td><td>Maximum number of bytes that should be popped. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">flags</td><td>Operation options: <code>0</code> or <code>BQUEUE_WAIT</code>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Number of bytes popped from the queue. </dd></dl>

</div>
</div>
<a id="aa5869f78efef0b2148196a205a1d1bef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa5869f78efef0b2148196a205a1d1bef">&#9670;&nbsp;</a></span>bqueue_push()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int bqueue_push </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structbqueue__t.html">bqueue_t</a> *&#160;</td>
          <td class="paramname"><em>queue</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Push data into the queue. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">queue</td><td>Pointer to a queue. </td></tr>
    <tr><td class="paramname">data</td><td>Pointer to the source data. </td></tr>
    <tr><td class="paramname">length</td><td>Number of bytes to insert. </td></tr>
    <tr><td class="paramname">flags</td><td>Operation options: <code>0</code> or <code>BQUEUE_WAIT</code>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>On success. </td></tr>
    <tr><td class="paramname">-1</td><td>No sparece available. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
