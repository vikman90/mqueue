<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>bqueue: include/bqueue.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">bqueue
   &#160;<span id="projectnumber">1.0</span>
   </div>
   <div id="projectbrief">Circular buffer for binary strings</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">bqueue.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Binary queue type declaration.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &lt;stdbool.h&gt;</code><br />
<code>#include &lt;pthread.h&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for bqueue.h:</div>
<div class="dyncontent">
<div class="center"><img src="bqueue_8h__incl.png" border="0" usemap="#include_2bqueue_8h" alt=""/></div>
<map name="include_2bqueue_8h" id="include_2bqueue_8h">
<area shape="rect" title="Binary queue type declaration." alt="" coords="75,5,209,32"/>
<area shape="rect" title=" " alt="" coords="5,80,76,107"/>
<area shape="rect" title=" " alt="" coords="101,80,183,107"/>
<area shape="rect" title=" " alt="" coords="208,80,292,107"/>
</map>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="bqueue_8h__dep__incl.png" border="0" usemap="#include_2bqueue_8hdep" alt=""/></div>
<map name="include_2bqueue_8hdep" id="include_2bqueue_8hdep">
<area shape="rect" title="Binary queue type declaration." alt="" coords="5,5,139,32"/>
<area shape="rect" href="bqueue_8c.html" title="Binary queue type declaration." alt="" coords="20,80,124,107"/>
</map>
</div>
</div>
<p><a href="bqueue_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structbqueue__t.html">bqueue_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Binary string queue type.  <a href="structbqueue__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ac939863cd54c22cc71ec348905db9f99"><td class="memItemLeft" align="right" valign="top"><a id="ac939863cd54c22cc71ec348905db9f99"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bqueue_8h.html#ac939863cd54c22cc71ec348905db9f99">BQUEUE_WAIT</a>&#160;&#160;&#160;1</td></tr>
<tr class="memdesc:ac939863cd54c22cc71ec348905db9f99"><td class="mdescLeft">&#160;</td><td class="mdescRight">Block push if the queue is full, or pop/peek if the queue is empty. <br /></td></tr>
<tr class="separator:ac939863cd54c22cc71ec348905db9f99"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a460bf63d2bba85de81e92a737f2841ef"><td class="memItemLeft" align="right" valign="top"><a id="a460bf63d2bba85de81e92a737f2841ef"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bqueue_8h.html#a460bf63d2bba85de81e92a737f2841ef">BQUEUE_SHRINK</a>&#160;&#160;&#160;2</td></tr>
<tr class="memdesc:a460bf63d2bba85de81e92a737f2841ef"><td class="mdescLeft">&#160;</td><td class="mdescRight">Shrink queue on pop/peek, if more than a half of the queue is unused. <br /></td></tr>
<tr class="separator:a460bf63d2bba85de81e92a737f2841ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a883bd03300d3ac2b9030ca64872a5e10"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structbqueue__t.html">bqueue_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bqueue_8h.html#a883bd03300d3ac2b9030ca64872a5e10">bqueue_init</a> (size_t max_length, unsigned flags)</td></tr>
<tr class="memdesc:a883bd03300d3ac2b9030ca64872a5e10"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocate and inititialize a new queue.  <a href="bqueue_8h.html#a883bd03300d3ac2b9030ca64872a5e10">More...</a><br /></td></tr>
<tr class="separator:a883bd03300d3ac2b9030ca64872a5e10"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a88c148ce79fd82160419daadad796341"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bqueue_8h.html#a88c148ce79fd82160419daadad796341">bqueue_destroy</a> (<a class="el" href="structbqueue__t.html">bqueue_t</a> *queue)</td></tr>
<tr class="memdesc:a88c148ce79fd82160419daadad796341"><td class="mdescLeft">&#160;</td><td class="mdescRight">Free a queue.  <a href="bqueue_8h.html#a88c148ce79fd82160419daadad796341">More...</a><br /></td></tr>
<tr class="separator:a88c148ce79fd82160419daadad796341"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa5869f78efef0b2148196a205a1d1bef"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bqueue_8h.html#aa5869f78efef0b2148196a205a1d1bef">bqueue_push</a> (<a class="el" href="structbqueue__t.html">bqueue_t</a> *queue, const void *data, size_t length, unsigned flags)</td></tr>
<tr class="memdesc:aa5869f78efef0b2148196a205a1d1bef"><td class="mdescLeft">&#160;</td><td class="mdescRight">Push data into the queue.  <a href="bqueue_8h.html#aa5869f78efef0b2148196a205a1d1bef">More...</a><br /></td></tr>
<tr class="separator:aa5869f78efef0b2148196a205a1d1bef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:affdbd94cee5efd31cdd18e50acc486d9"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bqueue_8h.html#affdbd94cee5efd31cdd18e50acc486d9">bqueue_pop</a> (<a class="el" href="structbqueue__t.html">bqueue_t</a> *queue, void *buffer, size_t length, unsigned flags)</td></tr>
<tr class="memdesc:affdbd94cee5efd31cdd18e50acc486d9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get and remove data from the queue.  <a href="bqueue_8h.html#affdbd94cee5efd31cdd18e50acc486d9">More...</a><br /></td></tr>
<tr class="separator:affdbd94cee5efd31cdd18e50acc486d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c0af4ca3b5b6794c10a37f1e1a402bb"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bqueue_8h.html#a0c0af4ca3b5b6794c10a37f1e1a402bb">bqueue_peek</a> (<a class="el" href="structbqueue__t.html">bqueue_t</a> *queue, char *buffer, size_t length, unsigned flags)</td></tr>
<tr class="memdesc:a0c0af4ca3b5b6794c10a37f1e1a402bb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get data from the queue.  <a href="bqueue_8h.html#a0c0af4ca3b5b6794c10a37f1e1a402bb">More...</a><br /></td></tr>
<tr class="separator:a0c0af4ca3b5b6794c10a37f1e1a402bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af9d90efa15ae124ca9bbe1300352c77f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bqueue_8h.html#af9d90efa15ae124ca9bbe1300352c77f">bqueue_drop</a> (<a class="el" href="structbqueue__t.html">bqueue_t</a> *queue, size_t length)</td></tr>
<tr class="memdesc:af9d90efa15ae124ca9bbe1300352c77f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Drop data from the queue.  <a href="bqueue_8h.html#af9d90efa15ae124ca9bbe1300352c77f">More...</a><br /></td></tr>
<tr class="separator:af9d90efa15ae124ca9bbe1300352c77f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Binary queue type declaration. </p>
<dl class="section author"><dt>Author</dt><dd>Vikman Fernandez-Castro </dd></dl>
<dl class="section date"><dt>Date</dt><dd>September 21, 2021 </dd></dl>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a88c148ce79fd82160419daadad796341"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a88c148ce79fd82160419daadad796341">&#9670;&nbsp;</a></span>bqueue_destroy()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void bqueue_destroy </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structbqueue__t.html">bqueue_t</a> *&#160;</td>
          <td class="paramname"><em>queue</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Free a queue. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">queue</td><td>Pointer to a queue, <code>NULL</code> is allowed. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="af9d90efa15ae124ca9bbe1300352c77f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af9d90efa15ae124ca9bbe1300352c77f">&#9670;&nbsp;</a></span>bqueue_drop()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int bqueue_drop </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structbqueue__t.html">bqueue_t</a> *&#160;</td>
          <td class="paramname"><em>queue</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Drop data from the queue. </p>
<p>Remove length bytes from the queue. That requires that the queue contains at less length bytes.</p>
<p>If <code>BQUEUE_SHRINK</code> was defined on initialization, the queue will be resized down when the used space is less than half of the current capacity. In any case, the internal buffer will be deallocated if the queue gets empty.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">queue</td><td>Pointer to a queue. </td></tr>
    <tr><td class="paramname">length</td><td>Number of bytes that shall be removed. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>On success. </td></tr>
    <tr><td class="paramname">-1</td><td>length is greater than the currently used space. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a883bd03300d3ac2b9030ca64872a5e10"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a883bd03300d3ac2b9030ca64872a5e10">&#9670;&nbsp;</a></span>bqueue_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structbqueue__t.html">bqueue_t</a>* bqueue_init </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>max_length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Allocate and inititialize a new queue. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">max_length</td><td>Maximum allowed length of the queue. </td></tr>
    <tr><td class="paramname">flags</td><td>Queue options: <code>0</code> or <code>BQUEUE_SHRINK</code>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Pointer to a newly allocated queue. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">NULL</td><td>No queue allocated, parameter value error. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a0c0af4ca3b5b6794c10a37f1e1a402bb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0c0af4ca3b5b6794c10a37f1e1a402bb">&#9670;&nbsp;</a></span>bqueue_peek()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t bqueue_peek </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structbqueue__t.html">bqueue_t</a> *&#160;</td>
          <td class="paramname"><em>queue</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get data from the queue. </p>
<p>Read at most length bytes from the queue but do not remove them. If <code>BQUEUE_WAIT</code> defined, this operation shall block until at less one byte is readable.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">queue</td><td>Pointer to a queue. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">buffer</td><td>Pointer to the destination buffer. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">length</td><td>Maximum number of bytes that should be peeked. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">flags</td><td>Operation options: <code>0</code> or <code>BQUEUE_WAIT</code>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Number of bytes read from the queue. </dd></dl>

</div>
</div>
<a id="affdbd94cee5efd31cdd18e50acc486d9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#affdbd94cee5efd31cdd18e50acc486d9">&#9670;&nbsp;</a></span>bqueue_pop()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t bqueue_pop </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structbqueue__t.html">bqueue_t</a> *&#160;</td>
          <td class="paramname"><em>queue</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get and remove data from the queue. </p>
<p>Read at most length bytes from the queue and make their space available for upcoming insertions. If <code>BQUEUE_WAIT</code> defined, this operation shall block until at less one byte is readable.</p>
<p>If <code>BQUEUE_SHRINK</code> was defined on initialization, the queue will be resized down when the used space is less than half of the current capacity. In any case, the internal buffer will be deallocated if the queue gets empty.</p>
<p>This operation is equivalent to call <a class="el" href="bqueue_8h.html#a0c0af4ca3b5b6794c10a37f1e1a402bb" title="Get data from the queue.">bqueue_peek()</a> + <a class="el" href="bqueue_8h.html#af9d90efa15ae124ca9bbe1300352c77f" title="Drop data from the queue.">bqueue_drop()</a> atomically.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">queue</td><td>Pointer to a queue. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">buffer</td><td>Pointer to the destination buffer. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">length</td><td>Maximum number of bytes that should be popped. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">flags</td><td>Operation options: <code>0</code> or <code>BQUEUE_WAIT</code>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Number of bytes popped from the queue. </dd></dl>

</div>
</div>
<a id="aa5869f78efef0b2148196a205a1d1bef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa5869f78efef0b2148196a205a1d1bef">&#9670;&nbsp;</a></span>bqueue_push()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int bqueue_push </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structbqueue__t.html">bqueue_t</a> *&#160;</td>
          <td class="paramname"><em>queue</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Push data into the queue. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">queue</td><td>Pointer to a queue. </td></tr>
    <tr><td class="paramname">data</td><td>Pointer to the source data. </td></tr>
    <tr><td class="paramname">length</td><td>Number of bytes to insert. </td></tr>
    <tr><td class="paramname">flags</td><td>Operation options: <code>0</code> or <code>BQUEUE_WAIT</code>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>On success. </td></tr>
    <tr><td class="paramname">-1</td><td>No sparece available. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<div class="ttc" id="abqueue_8c_html_a883bd03300d3ac2b9030ca64872a5e10"><div class="ttname"><a href="bqueue_8c.html#a883bd03300d3ac2b9030ca64872a5e10">bqueue_init</a></div><div class="ttdeci">bqueue_t * bqueue_init(size_t max_length, unsigned flags)</div><div class="ttdoc">Allocate and inititialize a new queue.</div><div class="ttdef"><b>Definition:</b> bqueue.c:99</div></div>
<div class="ttc" id="astructbqueue__t_html_a5cc22e3284cdafae8c9d1510caf6b270"><div class="ttname"><a href="structbqueue__t.html#a5cc22e3284cdafae8c9d1510caf6b270">bqueue_t::mutex</a></div><div class="ttdeci">pthread_mutex_t mutex</div><div class="ttdoc">Internal lock.</div><div class="ttdef"><b>Definition:</b> bqueue.h:32</div></div>
<div class="ttc" id="abqueue_8c_html_aa5869f78efef0b2148196a205a1d1bef"><div class="ttname"><a href="bqueue_8c.html#aa5869f78efef0b2148196a205a1d1bef">bqueue_push</a></div><div class="ttdeci">int bqueue_push(bqueue_t *queue, const void *data, size_t length, unsigned flags)</div><div class="ttdoc">Push data into the queue.</div><div class="ttdef"><b>Definition:</b> bqueue.c:137</div></div>
<div class="ttc" id="abqueue_8c_html_a93980ca6087910205591a355ae40a3fb"><div class="ttname"><a href="bqueue_8c.html#a93980ca6087910205591a355ae40a3fb">_bqueue_used</a></div><div class="ttdeci">static size_t _bqueue_used(bqueue_t *queue)</div><div class="ttdoc">Get the current queue size.</div><div class="ttdef"><b>Definition:</b> bqueue.c:260</div></div>
<div class="ttc" id="abqueue_8c_html_af9d90efa15ae124ca9bbe1300352c77f"><div class="ttname"><a href="bqueue_8c.html#af9d90efa15ae124ca9bbe1300352c77f">bqueue_drop</a></div><div class="ttdeci">int bqueue_drop(bqueue_t *queue, size_t length)</div><div class="ttdoc">Drop data from the queue.</div><div class="ttdef"><b>Definition:</b> bqueue.c:234</div></div>
<div class="ttc" id="abqueue_8h_html_a460bf63d2bba85de81e92a737f2841ef"><div class="ttname"><a href="bqueue_8h.html#a460bf63d2bba85de81e92a737f2841ef">BQUEUE_SHRINK</a></div><div class="ttdeci">#define BQUEUE_SHRINK</div><div class="ttdoc">Shrink queue on pop/peek, if more than a half of the queue is unused.</div><div class="ttdef"><b>Definition:</b> bqueue.h:16</div></div>
<div class="ttc" id="astructbqueue__t_html_a6696072174ec83b0d8f6085d25a886f2"><div class="ttname"><a href="structbqueue__t.html#a6696072174ec83b0d8f6085d25a886f2">bqueue_t::length</a></div><div class="ttdeci">size_t length</div><div class="ttdoc">Current queue length.</div><div class="ttdef"><b>Definition:</b> bqueue.h:29</div></div>
<div class="ttc" id="astructbqueue__t_html_a049f62aef168f920aa519ae56d674463"><div class="ttname"><a href="structbqueue__t.html#a049f62aef168f920aa519ae56d674463">bqueue_t::cond_popped</a></div><div class="ttdeci">pthread_cond_t cond_popped</div><div class="ttdoc">Some data has been popped, push may be available.</div><div class="ttdef"><b>Definition:</b> bqueue.h:34</div></div>
<div class="ttc" id="abqueue_8c_html_a88c148ce79fd82160419daadad796341"><div class="ttname"><a href="bqueue_8c.html#a88c148ce79fd82160419daadad796341">bqueue_destroy</a></div><div class="ttdeci">void bqueue_destroy(bqueue_t *queue)</div><div class="ttdoc">Free a queue.</div><div class="ttdef"><b>Definition:</b> bqueue.c:121</div></div>
<div class="ttc" id="abqueue_8c_html_affdbd94cee5efd31cdd18e50acc486d9"><div class="ttname"><a href="bqueue_8c.html#affdbd94cee5efd31cdd18e50acc486d9">bqueue_pop</a></div><div class="ttdeci">size_t bqueue_pop(bqueue_t *queue, void *buffer, size_t length, unsigned flags)</div><div class="ttdoc">Get and remove data from the queue.</div><div class="ttdef"><b>Definition:</b> bqueue.c:177</div></div>
<div class="ttc" id="astructbqueue__t_html_ae4172b2bc6ceb3c68723e7bab0916aa9"><div class="ttname"><a href="structbqueue__t.html#ae4172b2bc6ceb3c68723e7bab0916aa9">bqueue_t::head</a></div><div class="ttdeci">void * head</div><div class="ttdoc">Pointer to the first avilable byte to read.</div><div class="ttdef"><b>Definition:</b> bqueue.h:27</div></div>
<div class="ttc" id="astructbqueue__t_html_a57a67f44754d2dfaa33777aac4d20b1e"><div class="ttname"><a href="structbqueue__t.html#a57a67f44754d2dfaa33777aac4d20b1e">bqueue_t::cond_pushed</a></div><div class="ttdeci">pthread_cond_t cond_pushed</div><div class="ttdoc">Some data has been pushed, pop/peek may be available.</div><div class="ttdef"><b>Definition:</b> bqueue.h:33</div></div>
<div class="ttc" id="abqueue_8c_html_aaeca111fbc0ebd75f142510d7b567b8a"><div class="ttname"><a href="bqueue_8c.html#aaeca111fbc0ebd75f142510d7b567b8a">_bqueue_empty</a></div><div class="ttdeci">static bool _bqueue_empty(bqueue_t *queue)</div><div class="ttdoc">Test whether the queue is empty.</div><div class="ttdef"><b>Definition:</b> bqueue.c:266</div></div>
<div class="ttc" id="astructbqueue__t_html_a2eb75d9e0b6403dff5810951d6eb1898"><div class="ttname"><a href="structbqueue__t.html#a2eb75d9e0b6403dff5810951d6eb1898">bqueue_t::flags</a></div><div class="ttdeci">unsigned flags</div><div class="ttdoc">Queue-wide flag set.</div><div class="ttdef"><b>Definition:</b> bqueue.h:31</div></div>
<div class="ttc" id="abqueue_8c_html_a6ba4c84c3719469dc676e42551438ddb"><div class="ttname"><a href="bqueue_8c.html#a6ba4c84c3719469dc676e42551438ddb">_bqueue_extract</a></div><div class="ttdeci">static size_t _bqueue_extract(bqueue_t *queue, void *buffer, size_t buffer_len)</div><div class="ttdoc">Read data from the queue.</div><div class="ttdef"><b>Definition:</b> bqueue.c:367</div></div>
<div class="ttc" id="astructbqueue__t_html_abc063cc5968b082bdfdee9176929f48f"><div class="ttname"><a href="structbqueue__t.html#abc063cc5968b082bdfdee9176929f48f">bqueue_t::max_length</a></div><div class="ttdeci">size_t max_length</div><div class="ttdoc">Maximum length limit.</div><div class="ttdef"><b>Definition:</b> bqueue.h:30</div></div>
<div class="ttc" id="abqueue_8c_html_a9b624a2e070733a536aadcca3b0a5c1b"><div class="ttname"><a href="bqueue_8c.html#a9b624a2e070733a536aadcca3b0a5c1b">_bqueue_insert</a></div><div class="ttdeci">static void _bqueue_insert(bqueue_t *queue, const void *data, size_t data_len)</div><div class="ttdoc">Insert data into the queue.</div><div class="ttdef"><b>Definition:</b> bqueue.c:351</div></div>
<div class="ttc" id="astructbqueue__t_html"><div class="ttname"><a href="structbqueue__t.html">bqueue_t</a></div><div class="ttdoc">Binary string queue type.</div><div class="ttdef"><b>Definition:</b> bqueue.h:25</div></div>
<div class="ttc" id="abqueue_8c_html_a8b358d29bda677305547d9c94de73b08"><div class="ttname"><a href="bqueue_8c.html#a8b358d29bda677305547d9c94de73b08">_bqueue_expand</a></div><div class="ttdeci">static void _bqueue_expand(bqueue_t *queue, size_t new_length)</div><div class="ttdoc">Extend the current queue capacity.</div><div class="ttdef"><b>Definition:</b> bqueue.c:272</div></div>
<div class="ttc" id="abqueue_8h_html"><div class="ttname"><a href="bqueue_8h.html">bqueue.h</a></div><div class="ttdoc">Binary queue type declaration.</div></div>
<div class="ttc" id="abqueue_8c_html_abf81783faa18e85f3a4f0465faa0c8cd"><div class="ttname"><a href="bqueue_8c.html#abf81783faa18e85f3a4f0465faa0c8cd">_bqueue_trim</a></div><div class="ttdeci">static void _bqueue_trim(bqueue_t *queue)</div><div class="ttdoc">Trim the queue memory and reset its state.</div><div class="ttdef"><b>Definition:</b> bqueue.c:398</div></div>
<div class="ttc" id="abqueue_8h_html_ac939863cd54c22cc71ec348905db9f99"><div class="ttname"><a href="bqueue_8h.html#ac939863cd54c22cc71ec348905db9f99">BQUEUE_WAIT</a></div><div class="ttdeci">#define BQUEUE_WAIT</div><div class="ttdoc">Block push if the queue is full, or pop/peek if the queue is empty.</div><div class="ttdef"><b>Definition:</b> bqueue.h:15</div></div>
<div class="ttc" id="astructbqueue__t_html_a979d3be9f5942831b5280d78c6c3e5f6"><div class="ttname"><a href="structbqueue__t.html#a979d3be9f5942831b5280d78c6c3e5f6">bqueue_t::memory</a></div><div class="ttdeci">void * memory</div><div class="ttdoc">Pointer to the data segment.</div><div class="ttdef"><b>Definition:</b> bqueue.h:26</div></div>
<div class="ttc" id="abqueue_8c_html_a0c0af4ca3b5b6794c10a37f1e1a402bb"><div class="ttname"><a href="bqueue_8c.html#a0c0af4ca3b5b6794c10a37f1e1a402bb">bqueue_peek</a></div><div class="ttdeci">size_t bqueue_peek(bqueue_t *queue, char *buffer, size_t length, unsigned flags)</div><div class="ttdoc">Get data from the queue.</div><div class="ttdef"><b>Definition:</b> bqueue.c:210</div></div>
<div class="ttc" id="abqueue_8c_html_ab49d41097131632845e79ef59c749ae1"><div class="ttname"><a href="bqueue_8c.html#ab49d41097131632845e79ef59c749ae1">_bqueue_shrink</a></div><div class="ttdeci">static void _bqueue_shrink(bqueue_t *queue, size_t new_length)</div><div class="ttdoc">Reduce the queue capacity.</div><div class="ttdef"><b>Definition:</b> bqueue.c:301</div></div>
<div class="ttc" id="astructbqueue__t_html_adb7cacd6c27efede4556b00f4548546a"><div class="ttname"><a href="structbqueue__t.html#adb7cacd6c27efede4556b00f4548546a">bqueue_t::tail</a></div><div class="ttdeci">void * tail</div><div class="ttdoc">Pointer to the first available byte write.</div><div class="ttdef"><b>Definition:</b> bqueue.h:28</div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
